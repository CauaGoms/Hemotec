{% extends "doador/doador__base.html" %}
{% block custom_css %}
<link href="/static/css/doador/doador_inicio.css" rel="stylesheet">
{% endblock %}

{% block conteudo %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title mt-5">Bem-vindo ao Dashboard Hemotec</h1>
            <p class="hero-subtitle">Gerencie doações, acompanhe campanhas e salve vidas com nossa plataforma integrada</p>
            <div class="d-flex flex-wrap justify-content-center">
                <a href="/doador/agendamento/adicionar">
                <button class="btn btn-schedule" onclick="agendarDoacao()">
                    <i class="fas fa-calendar-plus me-2"></i>
                    Agendar Doação
                </button>
                </a>
                <a href="/doador/campanha">
                <button class="btn btn-secondary-hero" onclick="verCampanhas()">
                    <i class="fas fa-bullhorn me-2"></i>
                    Ver Campanhas
                </button>
                </a>
            </div>
        </div>
    </div>
</section>
<main class="container">
    <!-- Quick Actions -->
    <section class="quick-actions">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h4 class="mb-3">
                    <i class="fas fa-bolt me-2"></i>Ações Rápidas
                </h4>
                <p class="mb-0">Acesse rapidamente as principais funcionalidades do sistema</p>
            </div>
            <div class="col-md-6 text-end">
                <button class="btn" onclick="novoDoador()">
                    <i class="fas fa-user-plus me-2"></i>
                    Novo Doador
                </button>
                <button class="btn" onclick="window.location.href='/doador/estoque'">
                    <i class="fas fa-tint me-2"></i>
                    Ver Estoque
                </button>
                <button class="btn" onclick="gerarRelatorio()">
                    <i class="fas fa-chart-bar me-2"></i>
                    Relatórios
                </button>
            </div>
        </div>
    </section>
    
  <div class="col-md-12 mb-4">
  <div class="card p-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h5 class="section-title mb-0">Estoque de Sangue - Situação Atual</h5>
      <div class="legend">
        <span class="badge bg-adequate me-2">Adequado</span>
        <span class="badge bg-moderate me-2">Moderado</span>
        <span class="badge bg-low me-2">Baixo</span>
        <span class="badge bg-critical">Crítico</span>
      </div>
    </div>

    <div class="blood-stock-modern">
      <!-- A+ -->
  <div class="blood-stock-card adequate" onclick="mostrarCompatibilidade('A+')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">A+</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar adequate" style="width: 70%"></div>
          </div>
          <span class="units">17 unidades</span>
        </div>
        <span class="status">Adequado</span>
      </div>

      <!-- A- -->
  <div class="blood-stock-card moderate" onclick="mostrarCompatibilidade('A-')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">A-</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar moderate" style="width: 50%"></div>
          </div>
          <span class="units">12 unidades</span>
        </div>
        <span class="status">Moderado</span>
      </div>

      <!-- B+ -->
  <div class="blood-stock-card moderate" onclick="mostrarCompatibilidade('B+')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">B+</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar moderate" style="width: 50%"></div>
          </div>
          <span class="units">12 unidades</span>
        </div>
        <span class="status">Moderado</span>
      </div>

      <!-- B- -->
  <div class="blood-stock-card low" onclick="mostrarCompatibilidade('B-')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">B-</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar low" style="width: 25%"></div>
          </div>
          <span class="units">6 unidades</span>
        </div>
        <span class="status">Baixo</span>
      </div>

      <!-- AB+ -->
  <div class="blood-stock-card low" onclick="mostrarCompatibilidade('AB+')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">AB+</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar low" style="width: 30%"></div>
          </div>
          <span class="units">7 unidades</span>
        </div>
        <span class="status">Baixo</span>
      </div>

      <!-- AB- -->
  <div class="blood-stock-card critical" onclick="mostrarCompatibilidade('AB-')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">AB-</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar critical" style="width: 15%"></div>
          </div>
          <span class="units">3 unidades</span>
        </div>
        <span class="status">Crítico</span>
      </div>

      <!-- O+ -->
  <div class="blood-stock-card critical" onclick="mostrarCompatibilidade('O+')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">O+</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar critical" style="width: 20%"></div>
          </div>
          <span class="units">4 unidades</span>
        </div>
        <span class="status">Crítico</span>
      </div>

      <!-- O- -->
  <div class="blood-stock-card adequate" onclick="mostrarCompatibilidade('O-')">
        <div class="blood-info">
          <i class="fas fa-tint"></i>
          <span class="blood-type">O-</span>
        </div>
        <div class="blood-progress">
          <div class="progress">
            <div class="progress-bar adequate" style="width: 65%"></div>
          </div>
          <span class="units">13 unidades</span>
        </div>
        <span class="status">Adequado</span>
      </div>
    </div>
  </div>
</div>

        <div class="col-lg-4 mb-4">
            <div class="card p-4">
                <h5 class="section-title">Notificações Recentes</h5>
                <div class="notification-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <strong>Estoque Crítico</strong>
                            <p class="mb-1">Tipo sanguíneo O+ em nível crítico</p>
                            <span class="time">Há 2 horas</span>
                        </div>
                        <i class="fas fa-exclamation-triangle text-danger"></i>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <strong>Nova Campanha</strong>
                            <p class="mb-1">Campanha "Junho Vermelho" iniciada</p>
                            <span class="time">Há 4 horas</span>
                        </div>
                        <i class="fas fa-bullhorn text-success"></i>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <strong>Agendamento</strong>
                            <p class="mb-1">15 novos agendamentos hoje</p>
                            <span class="time">Há 6 horas</span>
                        </div>
                        <i class="fas fa-calendar-check text-info"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="row mb-4"></section>
    <div class="map-container fade-in">
            <div id="mapa" style="height: 500px; width: 100%; border-radius: 8px;"></div>
            <div id="info-rota" class="info-box"></div>
        </div>
        <div class="col-lg-6 mb-4">
            <div class="card p-4">
                <h5 class="section-title">Campanhas Ativas</h5>
                <div class="mb-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-tint text-danger fa-2x me-3"></i>
                        <div class="flex-grow-1">
                            <p class="mb-1 fw-bold">Junho Vermelho 2025</p>
                            <p class="mb-1 text-muted">Campanha nacional de conscientização</p>
                            <div class="progress" style="height: 5px;">
                                <div
                                    class="progress-bar"
                                    role="progressbar"
                                    style="width: 65%;"
                                    aria-valuenow="65"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                ></div>
                            </div>
                            <small class="text-muted">65% da meta atingida</small>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-heart text-danger fa-2x me-3"></i>
                        <div class="flex-grow-1">
                            <p class="mb-1 fw-bold">Mutirão Comunitário</p>
                            <p class="mb-1 text-muted">Doação em bairros periféricos</p>
                            <div class="progress" style="height: 5px;">
                                <div
                                    class="progress-bar bg-warning"
                                    role="progressbar"
                                    style="width: 40%;"
                                    aria-valuenow="40"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                ></div>
                            </div>
                            <small class="text-muted">40% da meta atingida</small>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-users text-danger fa-2x me-3"></i>
                        <div class="flex-grow-1">
                            <p class="mb-1 fw-bold">Doação Empresarial</p>
                            <p class="mb-1 text-muted">Parceria com empresas locais</p>
                            <div class="progress" style="height: 5px;">
                                <div
                                    class="progress-bar bg-success"
                                    role="progressbar"
                                    style="width: 80%;"
                                    aria-valuenow="80"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                ></div>
                            </div>
                            <small class="text-muted">80% da meta atingida</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock %}

<!-- Custom JavaScript -->
{% block custom_js %}
<script src="/static/js/doador/doador_inicio.js">  
</script>

<!-- Modal de Compatibilidade -->

<div class="modal fade" id="compatModal" tabindex="-1" aria-labelledby="compatModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" style="max-width: 370px; height: 200px;">
    <div class="modal-content" style="border-radius: 22px; box-shadow: 0 8px 32px rgba(224,32,32,0.15); border: none;">
      <div class="modal-header" style="background: linear-gradient(90deg, #e02020 0%, #ff4040 100%); border-radius: 22px 22px 0 0;">
        <h5 class="modal-title text-white fw-bold" id="compatModalLabel">Compatibilidade Sanguínea</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body" id="compatModalBody" style="font-size: 1.1rem; color: #333; padding: 2rem 1.5rem; background: #fff; border-radius: 0 0 22px 22px;">
        <!-- Conteúdo JS -->
      </div>
      <div class="modal-footer" style="background: #fff; border-radius: 0 0 22px 22px; border-top: none;">
        <button type="button" class="btn btn-danger" style="border-radius: 50px; padding: 0.6rem 2.2rem; font-weight: 600; font-size: 1.1rem; box-shadow: 0 2px 8px rgba(224,32,32,0.08);" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

{% endblock %}