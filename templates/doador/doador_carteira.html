{% extends "doador/doador__base.html" %}

{% block custom_css %}
<link href="/static/css/doador/doador_carteira.css" rel="stylesheet">
{% endblock %}

{% block conteudo %}
<!-- Seção de Cabeçalho -->
<section class="hero-section-carteira">
    <div class="hero-header-container">
        <div class="hero-content">
            <h1 class="hero-title">Minha Carteira de Doador</h1>
            <p class="hero-subtitle">Sua identidade de herói.<br>Visualize e baixe sua carteirinha oficial Hemotec.</p>
        </div>
    </div>
</section>

<!-- Conteúdo Principal -->
<div class="container my-5">
    <div class="wallet-container">
        <!-- A Carteirinha Horizontal (Elemento para ser convertido em PDF) -->
        <div id="donor-card" class="donor-card-horizontal">
            <div class="card-header">
                <img src="/static/img/logo_vermelha.svg" alt="Hemotec Logo" class="card-logo">
                <h3>Carteira do Doador de Sangue</h3>
            </div>
            <div class="card-body">
                <div class="left-panel">
                    <div class="qr-code">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=DOADOR_ID_123456789" alt="QR Code">
                    </div>
                    <div class="blood-type-display">
                        <span class="label">Tipo Sanguíneo</span>
                        <span class="blood-type">{{ tipo_sanguineo }}</span>
                    </div>
                </div>
                <div class="right-panel">
                    <div class="info-field">
                        <span class="label">Nome Completo</span>
                        <p class="value">{{usuario["nome"]}}</p>
                    </div>
                    <div class="info-grid">
                        <div class="info-field">
                            <span class="label">Nascimento</span>
                            <p class="value">{{ usuario["data_nascimento"]}}</p>
                        </div>
                        <div class="info-field">
                            <span class="label">CPF</span>
                            <p class="value">{{usuario["cpf"]}}</p>
                        </div>
                    </div>
                    <div class="info-field">
                        <span class="label">Última Doação</span>
                        <p class="value">{{ ultima_doacao }}</p>
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <p>ID Doador: {{ cod_doador }}</p>
                <p class="validity">Válido em todo o território nacional</p>
            </div>
        </div>

        <!-- Área de Ação -->
        <div class="action-area">
            <p class="action-text">Este é um documento de identificação do doador. Clique abaixo para gerar o PDF.</p>
            <button id="download-btn" class="btn btn-download">
                <i class="fas fa-download me-2"></i>Baixar Carteirinha (PDF)
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block custom_js %}
<!-- Script customizado -->
<script src="/static/js/doador/doador_carteira.js"></script>
{% endblock %}
